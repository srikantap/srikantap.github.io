(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{357:function(t,e,n){},379:function(t,e,n){},534:function(t,e,n){"use strict";n.r(e);var a=n(2),s=n(0),i=n.n(s),r=n(39),o=n.n(r),c=(n(357),n(6)),u=n(8),l=n(11),d=n(12),h=n(45),p=n(34),j=n(171),b=n(24),f=n.n(b),O=function(t){t?f.a.defaults.headers.common.Authorization=t:delete f.a.defaults.headers.common.Authorization},y="GET_ERRORS",v="USER_LOADING",m="FETCH_OWNER_ALL_DETAILS",g="SET_CURRENT_USER",x="FETCH_ALL_STATIONS",S="FETCH_STATION_DETAILS",k="FETCH_STATION_DAILY_RATES",w="FETCH_ALL_OWNERS",C="FETCH_GUNS_PER_STATION",T="FETCH_GUN_TYPES",A="FETCH_MANAGERS_PER_STATION",D="FETCH_EXECS_PER_STATION",E="FETCH_EXECS_ATTENDANCE",I="SET_STATION_RATES",P="SET_MANAGER_STATUS",_="SET_MANAGER_PASSWORD",G="SET_OWNER_STATUS",R="SET_OWNER_PASSWORD",N="FETCH_STOCKS_LATEST",M="FETCH_STOCKS_ALL",L="FETCH_RATES_VALIDITY",U=function(t){return function(t){f.a.get("/station/all").then((function(e){t({type:x,payload:e.data})})).catch((function(e){return t({type:y,payload:e.response.data})}))}},H=function(){return function(t){f.a.get("/owners/all").then((function(e){t({type:w,payload:e.data})})).catch((function(e){return t({type:y,payload:e.response.data})}))}},W=function(t){return function(e){f.a.get("/guns/station",{params:t}).then((function(t){e({type:C,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}},F=function(){return function(t){f.a.get("/guns/types").then((function(e){t({type:T,payload:e.data})})).catch((function(e){return t({type:y,payload:e.response.data})}))}},B=function(t){return function(e){f.a.get("/managers/station",{params:t}).then((function(t){e({type:A,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}},z=function(t){return function(e){f.a.get("/executives/station",{params:t}).then((function(t){e({type:D,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}},V=function(t){return function(e){f.a.get("/attendance/executive",{params:t}).then((function(t){e({type:E,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}},q=function(t){return function(e){f.a.post("/attendance/executive",t).catch((function(t){return e({type:y,payload:t.response.data})}))}},K=function(t){return function(e){f.a.get("/stocks/station/latest",{params:t}).then((function(t){e({type:N,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}},X=function(t){return function(e){f.a.get("/stocks/station/all",{params:t}).then((function(t){e({type:M,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}},Y=function(t){return{type:g,payload:t}},Q=function(){return function(t){window.localStorage.removeItem("jwtToken"),O(!1),t(Y({}))}},J=n(22),Z=n(86),$=n(326),tt=n(18),et=n(378),nt={isAuthenticated:!1,user:{},owner:{},ownerPwd:{},ownerStatus:{},stations:[],stationDetails:{},owners:[],gunsPerStation:[],gunTypes:[],managersPerStation:[],executivesPerStation:[],executivesAttendance:[],managerStatus:{},stocksLatest:{},stocksAll:[],loading:!1},at={},st=Object(Z.c)({auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object(tt.a)(Object(tt.a)({},t),{},{isAuthenticated:!et(e.payload),user:e.payload});case G:return Object(tt.a)(Object(tt.a)({},t),{},{ownerStatus:e.payload});case R:return Object(tt.a)(Object(tt.a)({},t),{},{ownerPwd:e.payload});case I:return Object(tt.a)(Object(tt.a)({},t),{},{setStationRateResp:e.payload});case P:return Object(tt.a)(Object(tt.a)({},t),{},{managerStatus:e.payload});case _:return Object(tt.a)(Object(tt.a)({},t),{},{managerPassword:e.payload});case S:return Object(tt.a)(Object(tt.a)({},t),{},{stationDetails:e.payload});case k:return Object(tt.a)(Object(tt.a)({},t),{},{dailyRates:e.payload});case L:return Object(tt.a)(Object(tt.a)({},t),{},{ratesValidity:e.payload});case x:return Object(tt.a)(Object(tt.a)({},t),{},{stations:e.payload});case w:return Object(tt.a)(Object(tt.a)({},t),{},{owners:e.payload});case C:return Object(tt.a)(Object(tt.a)({},t),{},{gunsPerStation:e.payload});case T:return Object(tt.a)(Object(tt.a)({},t),{},{gunTypes:e.payload});case A:return Object(tt.a)(Object(tt.a)({},t),{},{managersPerStation:e.payload});case D:return Object(tt.a)(Object(tt.a)({},t),{},{executivesPerStation:e.payload});case E:return Object(tt.a)(Object(tt.a)({},t),{},{executivesAttendance:e.payload});case m:return Object(tt.a)(Object(tt.a)({},t),{},{owner:e.payload});case N:return Object(tt.a)(Object(tt.a)({},t),{},{stocksLatest:e.payload});case M:return Object(tt.a)(Object(tt.a)({},t),{},{stocksAll:e.payload});case v:return Object(tt.a)(Object(tt.a)({},t),{},{loading:!0});default:return t}},errors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:return e.payload;default:return t}}}),it=[$.a],rt=Object(Z.e)(st,{},Object(Z.d)(Z.a.apply(void 0,it),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),ot=(n(379),n(172)),ct=n(41),ut=n(20),lt=n(9),dt=n.n(lt),ht=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={username:"",password:"",type:"OWNER",errors:{}},t.onChange=t.onChange.bind(Object(ct.a)(t)),t.onSubmit=t.onSubmit.bind(Object(ct.a)(t)),t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){if(this.props.auth.isAuthenticated){var t=this.props.auth.user;if("admin"===t.username)this.props.history.push("/dashboard/admin");else{var e=t.role?t.role.toLowerCase():"unknown";this.props.history.push("/dashboard/"+e+"/"+t.id)}}}},{key:"componentDidUpdate",value:function(t,e){if(this.props.auth.isAuthenticated){var n=this.props.auth.user;if("admin"===n.username)this.props.history.push("/dashboard/admin");else{var a=n.role?n.role.toLowerCase():"unknown";this.props.history.push("/dashboard/"+a+"/"+n.id)}}}},{key:"onChange",value:function(t){this.setState(Object(ot.a)({},t.target.id,t.target.value))}},{key:"onSubmit",value:function(t){t.preventDefault();var e={username:this.state.username,password:this.state.password,type:this.state.type};this.props.loginUser(e)}},{key:"render",value:function(){var t=this,e=this.state.errors;return Object(a.jsx)("div",{style:{margin:"auto",display:"flex"},children:Object(a.jsxs)(ut.a,{style:{margin:"auto",display:"block"},children:[Object(a.jsxs)(ut.a,{children:[" ",Object(a.jsx)("b",{children:"Login"})," "]}),Object(a.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(a.jsxs)(ut.a,{style:{marginLeft:20},children:[Object(a.jsx)("label",{htmlFor:"OWNER",style:{paddingLeft:15},children:"Owner"}),Object(a.jsx)("input",{onClick:function(){return t.setState({type:"OWNER"})},error:e.type,type:"radio",id:"type",name:"type",checked:"OWNER"===this.state.type}),Object(a.jsx)("label",{htmlFor:"MANAGER",style:{paddingLeft:15},children:"Manager"}),Object(a.jsx)("input",{onClick:function(){return t.setState({type:"MANAGER"})},error:e.type,type:"radio",id:"type",name:"type",checked:"MANAGER"===this.state.type})]}),Object(a.jsxs)(ut.a,{children:[Object(a.jsx)("label",{htmlFor:"username",children:"username"}),Object(a.jsx)("input",{onChange:this.onChange,value:this.state.username,error:e.username,id:"username",type:"username",className:dt()("",{invalid:e.username||e.usernameNotFound})}),Object(a.jsxs)("span",{className:"red-text",children:[e.username,e.usernameNotFound]})]}),Object(a.jsxs)(ut.a,{children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:dt()("",{invalid:e.password||e.passwordincorrect})}),Object(a.jsxs)("span",{className:"red-text",children:[e.password,e.passwordincorrect]})]}),Object(a.jsx)(ut.a,{style:{paddingLeft:"11.250px"},children:Object(a.jsx)("button",{style:{border:"1px solid black",width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Login"})})]})]})})}}]),n}(s.Component),pt=Object(J.b)((function(t){return{auth:t.auth,errors:t.errors}}),{loginUser:function(t){return function(e){f.a.post("/user/login",t).then((function(t){var n=t.data.token;window.localStorage.setItem("jwtToken",n),O(n);var a=Object(j.a)(n);e(Y(a))})).catch((function(t){return e({type:y,payload:t.response.data})}))}}})(ht),jt=n(91),bt=n(148),ft=n(227),Ot=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).onSelect=a.onSelect.bind(Object(ct.a)(a)),a}return Object(u.a)(n,[{key:"onSelect",value:function(t,e){e.preventDefault(),"Logout"===t&&this.props.logoutUser()}},{key:"render",value:function(){var t=this,e=(this.props.auth||{}).user||{},n=e.role,s=e.name,i=e.username,r=e.id,o=s||i||r||"Unknown";return Object(a.jsxs)(bt.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",children:[Object(a.jsx)("img",{alt:"",src:"../../../logo192.png",width:"30",height:"30",className:"d-inline-block align-top"}),Object(a.jsx)(bt.a.Brand,{href:"#home",children:"Fuel Manager"}),Object(a.jsx)(bt.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsx)(bt.a.Collapse,{id:"responsive-navbar-nav",children:Object(a.jsxs)(jt.a,{className:"mr-auto",children:["SUPERADMIN"===n?Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(jt.a.Link,{onClick:function(){return t.props.history.push("/dashboard/admin/view/stations")},children:"View Stations"}),Object(a.jsx)(jt.a.Link,{onClick:function(){return t.props.history.push("/dashboard/admin/view/owners")},children:"View Owners"}),Object(a.jsx)(jt.a.Link,{onClick:function(){return t.props.history.push("/dashboard/admin/register/owner")},children:"Add New Company"}),Object(a.jsx)(jt.a.Link,{onClick:function(){return t.props.history.push("/dashboard/admin/add/gun-types")},children:"Add Gun Types"})]}):null,Object(a.jsx)(ft.a,{title:o.toUpperCase(),id:"collasible-nav-dropdown",onSelect:this.onSelect,children:Object(a.jsx)(ft.a.Item,{href:"Logout",children:"Logout"})})]})})]})}}]),n}(s.Component),yt=n(38),vt=(n(107),n(287),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"onGridReady",value:function(t){t.api.sizeColumnsToFit(),this.setState({api:t.api,columnApi:t.columnApi})}},{key:"onSelectionChanged",value:function(){if(this.state.api){var t=this.state.api.getSelectedRows();this.props.onStationSelected(t)}}},{key:"render",value:function(){var t=this.props.stations||[];return Object(a.jsx)("div",{className:"ag-theme-alpine-dark",style:{height:400,width:"100%"},children:Object(a.jsxs)(yt.AgGridReact,{rowData:t,onGridReady:this.onGridReady.bind(this),rowSelection:"single",onSelectionChanged:this.onSelectionChanged.bind(this),children:[Object(a.jsx)(yt.AgGridColumn,{field:"name",sortable:!0,filter:!0}),Object(a.jsx)(yt.AgGridColumn,{field:"address",sortable:!0,filter:!0}),Object(a.jsx)(yt.AgGridColumn,{field:"owner",sortable:!0,filter:!0,cellRendererFramework:mt})]})})}}]),n}(s.Component)),mt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=((this.props.data||{}).ownerId||"Unknown")._id;return Object(a.jsxs)("div",{children:[" ",t," "]})}}]),n}(s.Component),gt=Object(J.b)((function(t){return{}}),{})(Object(p.f)(vt)),xt=n(28),St=n(14),kt=n(23),wt=(n(153),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.station}},{key:"componentDidUpdate",value:function(t,e){var n=t.station,a=this.props.station;n._id,a._id}},{key:"onSelectGun",value:function(t){this.setState({gunId:t,showGunStats:!0})}},{key:"render",value:function(){var t=this,e=this.state,n=e.gunId,s=e.showGunStats,i=this.props,r=(i.station,i.guns),o=(r=r||[]).map((function(e,n){return Object(a.jsx)(Ct,{gun:e,onSelectGun:t.onSelectGun.bind(t)},n)}));return Object(a.jsxs)("div",{style:{borderRight:"1px solid black"},children:[Object(a.jsx)("h4",{children:" Guns:  "}),o.map((function(t){return t})),n&&s?Object(a.jsx)(Tt,{gunId:n,hideGunStats:function(){return t.setState({showGunStats:!1})}}):null]})}}]),n}(s.Component)),Ct=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){}},{key:"render",value:function(){var t=this,e=this.props.gun;return Object(a.jsxs)("div",{style:{display:"flex",cursor:"pointer",color:"blue",paddingBottom:10},onClick:function(){return t.props.onSelectGun(e._id)},children:[Object(a.jsxs)("div",{children:[" ",e.name," "]}),Object(a.jsxs)("div",{style:{paddingLeft:5},children:[" (",e.type,") "]})]})}}]),n}(s.Component),Tt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){}},{key:"render",value:function(){var t=this,e=this.props.gunId;return Object(a.jsxs)(St.a,{show:!0,size:"md",backdrop:"static",onHide:function(){return t.props.hideGunStats()},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsxs)(St.a.Title,{children:["Gun Stats: ",e]})}),Object(a.jsx)(St.a.Body,{style:{height:"inherit",minHeight:"inherit"}}),Object(a.jsx)(St.a.Footer,{children:Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.hideGunStats()},children:" Cancel "})})]})}}]),n}(s.Component),At=Object(J.b)((function(t){return{stations:t.auth.stations}}),{fetchAllStations:U,fetchGunsPerStation:W})(Object(p.f)(wt)),Dt=n(21),Et=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){var n=t.station,a=this.props.station;n._id,a._id}},{key:"onToggleManagerActive",value:function(t,e){var n=this.props.station._id;this.props.setManagerStatus({managerId:t,value:e,stationId:n})}},{key:"onShowSetPassword",value:function(t){this.setState({selectedManagerId:t,showSetPassword:!0})}},{key:"onSetPassword",value:function(t){var e=this.state.selectedManagerId,n=this.props.station._id;this.props.setManagerPassword({managerId:e,newPassword:t,stationId:n}),this.setState({selectedManagerId:null,showSetPassword:!1})}},{key:"render",value:function(){var t=this,e=this.state,n=e.selectedManagerId,s=e.showSetPassword,i=this.props.managers,r=(i=i||[]).map((function(e,n){return Object(a.jsx)(Pt,{manager:e,onToggleManagerActive:t.onToggleManagerActive.bind(t),onShowSetPassword:t.onShowSetPassword.bind(t)},n)}));return Object(a.jsxs)("div",{style:{borderRight:"1px solid black"},children:[Object(a.jsx)("h5",{children:" Managers:  "}),r.map((function(t){return t})),s?Object(a.jsx)(It,{selectedManagerId:n,onSubmit:this.onSetPassword.bind(this),onCancel:function(){return t.setState({selectedManagerId:null,showSetPassword:!1})}}):null]})}}]),n}(s.Component),It=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.state.newPassword,n=this.props,s=n.onCancel,i=n.onSubmit;return Object(a.jsxs)(St.a,{show:!0,size:"md",backdrop:"static",onHide:function(){return t.props.onCancel()},style:{height:"100%",width:"100%",background:"transparent"},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsx)(St.a.Title,{children:"Set Password"})}),Object(a.jsx)(St.a.Body,{style:{height:"inherit",minHeight:"inherit"},children:Object(a.jsxs)(Dt.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(Dt.a.Label,{children:"Password"}),Object(a.jsx)(Dt.a.Control,{type:"password",value:e,onChange:function(e){return t.setState({newPassword:e.target.value})},placeholder:"Password"})]})}),Object(a.jsxs)(St.a.Footer,{children:[Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return s()},children:" Cancel "}),Object(a.jsx)(kt.a,{variant:"primary",onClick:function(){return i(e)},children:" Submit "})]})]})}}]),n}(s.Component),Pt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){}},{key:"render",value:function(){var t=this,e=this.props.manager,n=e.username,s=e.isActive,i=s?"red":"green";return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:10},children:[Object(a.jsxs)(xt.a,{children:[" ",n," "]}),Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsxs)("button",{style:{paddingLeft:5,fontSize:12,background:i,color:"white"},onClick:function(){return t.props.onToggleManagerActive(e._id,!s)},children:[" ",s?"Disable":"Enable"," "]})," "]}),Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)("button",{style:{paddingLeft:5,fontSize:12},onClick:function(){return t.props.onShowSetPassword(e._id)},children:" Reset Password "})," "]})]})}}]),n}(s.Component),_t=Object(J.b)((function(t){return{stations:t.auth.stations}}),{setManagerStatus:function(t){return function(e){f.a.post("/managers/status",t).then((function(n){e(B({stationId:t.stationId}))})).catch((function(t){return e({type:y,payload:t.response.data})}))}},setManagerPassword:function(t){return function(e){f.a.post("/managers/password",t).then((function(n){e(B({stationId:t.stationId}))})).catch((function(t){return e({type:y,payload:t.response.data})}))}}})(Object(p.f)(Et)),Gt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){}},{key:"onShowAttendance",value:function(t){this.props.history.push(this.props.match.url+"/sales/view/"+t)}},{key:"onSalesEntry",value:function(t){this.props.history.push(this.props.match.url+"/sales/enter/"+t)}},{key:"render",value:function(){var t=this,e=this.props.executives,n=(e=e||[]).map((function(e,n){return Object(a.jsx)(Rt,{executive:e,onShowAttendance:t.onShowAttendance.bind(t),onSalesEntry:t.onSalesEntry.bind(t)},n)}));return Object(a.jsxs)("div",{style:{borderRight:"1px solid black"},children:[Object(a.jsx)("h5",{children:" Executives:  "}),n.map((function(t){return t}))]})}}]),n}(s.Component),Rt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){}},{key:"render",value:function(){var t=this,e=this.props.executive,n=e.name,s=e._id;return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:10},children:[Object(a.jsxs)(xt.a,{children:[" ",n," "]}),Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)("button",{style:{paddingLeft:5,fontSize:12},onClick:function(){return t.props.onSalesEntry(s)},children:" Enter Sales "})," "]}),Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)("button",{style:{paddingLeft:5,fontSize:12},onClick:function(){return t.props.onShowAttendance(s)},children:" View Sales "})," "]})]})}}]),n}(s.Component),Nt=Object(J.b)((function(t){return{stations:t.auth.stations,attendance:t.auth.executivesAttendance}}),{fetchGunsPerStation:W,fetchExecutivesPerStation:z,setExecSales:q,fetchExecutivesAttendance:V})(Object(p.f)(Gt)),Mt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchStationDailyRates({stationId:this.props.station._id})}},{key:"componentDidUpdate",value:function(t,e){!t.show&&this.props.show&&this.props.fetchStationDailyRates({stationId:this.props.station._id})}},{key:"render",value:function(){var t=this,e=this.props,n=e.station,s=e.show,i=e.dailyRates,r=i&&i.length>0?i:[],o={},c=[];return r.forEach((function(t){var e=t.rates,n={};for(var a in n.date=t.date,e)o[a]=1,n[a]=e[a];c.push(n)})),Object(a.jsxs)(St.a.Dialog,{show:s,onHide:function(){return t.props.onHide()},style:{background:"transparent",maxWidth:window.innerWidth-50},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsxs)(St.a.Title,{children:["Daily Rates of ",n.name]})}),Object(a.jsx)(St.a.Body,{style:{height:"inherit",width:window.innerWidth-50,minHeight:"inherit"},children:Object(a.jsx)("div",{className:"ag-theme-alpine-dark",style:{height:500,width:"100%"},children:Object(a.jsxs)(yt.AgGridReact,{rowData:c,rowSelection:"single",children:[Object(a.jsx)(yt.AgGridColumn,{field:"date",sortable:!0,filter:!0}),Object.keys(o).map((function(t){return Object(a.jsx)(yt.AgGridColumn,{field:t,sortable:!0,filter:!0})}))]})})}),Object(a.jsx)(St.a.Footer,{children:Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.onHide()},children:" Close "})})]})}}]),n}(s.Component),Lt=n(138),Ut=n.n(Lt),Ht=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){}},{key:"setRate",value:function(t,e){var n=e.target.value,a=Object(tt.a)({},this.state.rates);a[t]=n,this.setState({rates:a})}},{key:"render",value:function(){var t=this,e=this.state.validTill,n=this.props,s=n.station,i=n.guns.map((function(t){return t.type})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(e,n){return Object(a.jsxs)("div",{style:{display:"flex"},children:[e,Object(a.jsx)(Dt.a.Control,{type:"number",placeholder:"Todays Rate",onChange:t.setRate.bind(t,e)})]},n)}));return Object(a.jsxs)(St.a,{show:!0,size:"md",backdrop:"static",onHide:function(){return t.props.onCancel()},style:{height:"100%",width:"100%",background:"transparent"},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsxs)(St.a.Title,{children:["Set Daily Rates of ",s.name]})}),Object(a.jsxs)(St.a.Body,{style:{height:"inherit",minHeight:"inherit"},children:["Valid Till: ",Object(a.jsx)(Ut.a,{format:"dd-MM-yy h:mm a",disableClock:!0,calendarIcon:null,onChange:function(e){return t.setState({validTill:e})},value:e}),i.map((function(t){return t}))]}),Object(a.jsxs)(St.a.Footer,{children:[Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.onCancel()},children:" Cancel "}),Object(a.jsx)(kt.a,{variant:"primary",onClick:function(){return t.props.onSubmit(t.state)},children:" Submit "})]})]})}}]),n}(s.Component),Wt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){}},{key:"addStockQuantity",value:function(t,e){var n=e.target.value,a=Object(tt.a)({},this.state.stocks);a[t]=a[t]||{quantity:"",value:""},a[t].quantity=n,this.setState({stocks:a})}},{key:"addStockValue",value:function(t,e){var n=e.target.value,a=Object(tt.a)({},this.state.stocks);a[t]=a[t]||{quantity:"",value:""},a[t].value=n,this.setState({stocks:a})}},{key:"render",value:function(){var t=this,e=this.props,n=e.station,s=e.guns,i=e.show,r=s.map((function(t){return t.type})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(e,n){return Object(a.jsx)("div",{style:{display:"flex"},children:Object(a.jsxs)(ut.a,{style:{marginTop:5},children:[Object(a.jsxs)(xt.a,{children:[" ",e," : "]}),Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)(Dt.a.Control,{type:"number",placeholder:"Stock (Quantity)",onChange:t.addStockQuantity.bind(t,e)})]}),Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)(Dt.a.Control,{type:"number",placeholder:"Value (Rupees)",onChange:t.addStockValue.bind(t,e)})]})]})},n)}));return Object(a.jsxs)(St.a.Dialog,{show:i,size:"lg",backdrop:"static",onHide:function(){return t.props.onCancel()},style:{height:"100%",width:"100%",background:"transparent"},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsxs)(St.a.Title,{children:["Add Stock for ",n.name]})}),Object(a.jsxs)(St.a.Body,{style:{height:"inherit",minHeight:"inherit"},children:[Object(a.jsx)(ut.a,{children:Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)(Dt.a.Control,{type:"text",placeholder:"Invoice Number",onChange:function(e){return t.setState({invoice:e.target.value})}})," "]})}),r.map((function(t){return t}))]}),Object(a.jsxs)(St.a.Footer,{children:[Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.onCancel()},children:" Cancel "}),Object(a.jsx)(kt.a,{variant:"primary",onClick:function(){return t.props.onSubmit(t.state)},children:" Submit "})]})]})}}]),n}(s.Component),Ft=n(327),Bt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchStocksAll({stationId:this.props.station._id})}},{key:"componentDidUpdate",value:function(t,e){!t.show&&this.props.show&&this.props.fetchStocksAll({stationId:this.props.station._id})}},{key:"render",value:function(){var t=this,e=this.props,n=e.station,s=e.show,i=e.stocksAll,r={};i.forEach((function(t){var e=t.date;for(var n in t.stocks){r[n]=r[n]||[];var a=new Date(e);r[n].push({x:a.toTimeString(),y:t.stocks[n].quantity})}}));var o=[];return Object.keys(r).forEach((function(t){var e={id:t,color:"hsl(188, 70%, 50%)",data:r[t]};o.push(e)})),Object(a.jsxs)(St.a.Dialog,{show:s,size:"lg",onHide:function(){return t.props.onCancel()},style:{height:"100%",width:"100%",background:"transparent"},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsxs)(St.a.Title,{children:["Stocks for ",n.name]})}),Object(a.jsx)(St.a.Body,{style:{height:600,minWidth:600,overflow:"scroll"},children:Object(a.jsx)(Ft.a,{data:o,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto"},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Day of Entry",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Kilo liters",legendOffset:-40,legendPosition:"middle"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})}),Object(a.jsx)(St.a.Footer,{children:Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.onCancel()},children:" Close "})})]})}}]),n}(s.Component),zt=Object(J.b)((function(t){return{stocksAll:t.auth.stocksAll}}),{fetchStocksLatest:K,fetchStocksAll:X})(Object(p.f)(Bt)),Vt=n(29),qt=n(77),Kt=n(62),Xt=n(183),Yt=n(47),Qt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={selected:"Select Gun"},a}return Object(u.a)(n,[{key:"onTypeSelect",value:function(t){var e=this;this.setState({selected:t},(function(){return e.props.onSelect(t)}))}},{key:"render",value:function(){var t=this.state.selected,e=this.props.guns;return Object(a.jsx)("div",{style:{alignItems:"center",display:"flex"},children:Object(a.jsx)(Xt.a,{onSelect:this.onTypeSelect.bind(this),title:t,id:"gun-type",style:{fontSize:20,marginRight:5},children:e.map((function(t,e){return Object(a.jsx)(Yt.a.Item,{eventKey:t.name,children:t.name},e)}))})})}}]),n}(s.Component),Jt=Object(J.b)((function(t){return{stations:t.auth.stations,attendance:t.auth.executivesAttendance}}),{})(Object(p.f)(Qt)),Zt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={inTime:new Date,outTime:new Date,cashSales:0,cardSales:0,closingStock:0,errors:{},wallets:[{name:"Other",amount:0}]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.executives,n=t.match;this.fetchData(e,n.params.executiveId)}},{key:"componentDidUpdate",value:function(t,e){if(t.executives.length!==this.props.executives.length){var n=this.props,a=n.executives,s=n.match;this.fetchData(a,s.params.executiveId)}}},{key:"fetchData",value:function(t,e){var n=t.find((function(t){return t._id===e})),a=(n=n||{}).stationId;this.props.fetchGunsPerStation({stationId:a}),this.props.fetchRatesValidity({stationId:a})}},{key:"onSetInTime",value:function(t){this.setState({inTime:t})}},{key:"onSetOutTime",value:function(t){var e=this.state.errors,n=this.props.ratesValidity;t>new Date(n)?(e.outTime="Outtime must be less than rates validity cutoff",console.log("Outtime must be less than rates validity cutoff")):e.outTime="",this.setState({outTime:t,errors:e})}},{key:"isDisabled",value:function(){var t=new Date(this.props.ratesValidity),e=this.state,n=e.inTime,a=e.outTime,s=e.selectedGun;return!(n<a&&a.getTime()<=Date.now()&&s&&a<=t)}},{key:"onWalletUpdate",value:function(t,e,n){var a=Object(Vt.a)(this.state.wallets);a[t][e]=n,this.setState({wallets:a})}},{key:"onWalletAdd",value:function(){var t=Object(Vt.a)(this.state.wallets);t.push({name:"",amount:0}),this.setState({wallets:t})}},{key:"onDeleteWallet",value:function(t){var e=Object(Vt.a)(this.state.wallets);e.splice(t,1),this.setState({wallets:e})}},{key:"render",value:function(){var t=this,e=this.state,n=e.inTime,s=e.errors,i=e.outTime,r=e.cashSales,o=e.cardSales,c=e.closingStock,u=this.props,l=u.ratesValidity,d=u.match,h=u.executives,p=u.guns,j=u.openingStock,b=h.find((function(t){return t._id===d.params.executiveId})),f=(b=b||{}).name;f=f||"Unknown";var O=this.isDisabled(),y=0;this.state.wallets.forEach((function(t){y+=isNaN(t.amount)?parseInt(0):parseFloat(t.amount)}));var v=r+y+o,m=new Date(l);return Object(a.jsxs)("div",{children:[Object(a.jsxs)(St.a.Header,{children:[" ",Object(a.jsx)(St.a.Title,{children:f.toUpperCase()})," "]}),Object(a.jsxs)(St.a.Body,{style:{height:"inherit"},children:[Object(a.jsxs)(ut.a,{children:[" Gun:",Object(a.jsx)(Jt,{guns:p,onSelect:function(e){return t.setState({selectedGun:e})}})]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" In Time:",Object(a.jsx)(Ut.a,{format:"dd-MM-yy h:mm a",disableClock:!0,calendarIcon:null,onChange:this.onSetInTime.bind(this),value:n})]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" Out Time:",Object(a.jsx)(Ut.a,{format:"dd-MM-yy h:mm a",disableClock:!0,calendarIcon:null,maxDate:m,onChange:this.onSetOutTime.bind(this),value:i}),Object(a.jsxs)(Dt.a.Text,{type:"invalid",muted:!0,children:[" ",s.outTime," "]})]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" Cash Sales:",Object(a.jsx)(Dt.a.Control,{required:!0,name:"Cash Sales",type:"number",value:r,onChange:function(e){return t.setState({cashSales:isNaN(e.target.value)?0:parseFloat(e.target.value)})}})]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" Wallets:",Object(a.jsx)($t,{wallets:this.state.wallets,onWalletAdd:this.onWalletAdd.bind(this),onDeleteWallet:this.onDeleteWallet.bind(this),onWalletUpdate:this.onWalletUpdate.bind(this)})]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" Card Sales:",Object(a.jsx)(Dt.a.Control,{required:!0,name:"Closing Sales",type:"number",value:o,onChange:function(e){return t.setState({cardSales:isNaN(e.target.value)?0:parseFloat(e.target.value)})}})]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" Total Sales (Calculated):",Object(a.jsx)(Dt.a.Control,{name:"Total Sales",type:"number",disabled:!0,value:v})]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" ",Object(a.jsx)("br",{})," "]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" Opening Stock:",Object(a.jsx)(Dt.a.Control,{disabled:!0,name:"Opening Stock",type:"number",maxLength:"10",value:j})]}),Object(a.jsxs)(ut.a,{style:{marginTop:10},children:[" Closing Stock (Meter Reading):",Object(a.jsx)(Dt.a.Control,{required:!0,name:"Closing Stock (Meter Reading)",type:"number",value:c,onChange:function(e){return t.setState({closingStock:isNaN(e.target.value)?0:parseFloat(e.target.value)})}})]})]}),Object(a.jsxs)(St.a.Footer,{children:[Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.hide()},children:" Close "}),Object(a.jsx)(kt.a,{variant:"primary",onClick:function(){return t.props.setExecSales({executiveId:d.params.executiveId,inTime:n,outTime:i,cashSales:r,walletsSales:y,cardSales:o,totalSales:v,closingStock:c})},disabled:O,children:" Submit "})]})]})}}]),n}(s.Component),$t=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.props.wallets.map((function(e,n){return Object(a.jsx)(te,{wallet:e,index:n,onWalletUpdate:t.props.onWalletUpdate,onDeleteWallet:t.props.onDeleteWallet},n)}));return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:{cursor:"pointer",background:"green",marginLeft:10},onClick:this.props.onWalletAdd,children:" Add wallet "}),e.map((function(t){return t}))]})}}]),n}(s.Component),te=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.index,s=e.wallet;return Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(Dt.a.Control,{required:!0,type:"text",value:s.name,onChange:function(e){return t.props.onWalletUpdate(n,"name",e.target.value)}}),Object(a.jsx)(Dt.a.Control,{required:!0,type:"number",value:s.amount,onChange:function(e){return t.props.onWalletUpdate(n,"amount",e.target.value)}}),Object(a.jsx)(qt.a,{icon:Kt.b,style:{cursor:"pointer",color:"red"},onClick:function(){return t.props.onDeleteWallet(n)}})]})}}]),n}(s.Component),ee=Object(J.b)((function(t){return{stations:t.auth.stations,attendance:t.auth.executivesAttendance,ratesValidity:t.auth.ratesValidity,gunsPerStation:t.auth.gunsPerStation}}),{fetchRatesValidity:function(t){return function(e){f.a.get("/rates/validity",{params:t}).then((function(t){e({type:L,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}},fetchGunsPerStation:W,fetchExecutivesPerStation:z,setExecSales:q,fetchExecutivesAttendance:V})(Object(p.f)(Zt)),ne=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.executiveId;this.props.fetchExecutivesAttendance({executiveId:t})}},{key:"componentDidUpdate",value:function(t,e){}},{key:"render",value:function(){var t=this,e=this.props,n=e.executiveId,s=e.executives,i=e.attendance,r=s.find((function(t){return t._id===n}));r=r||{};var o=i.map((function(t){return{inTime:new Date(t.inTime).toString(),outTime:new Date(t.outTime).toString(),cashSales:t.cashSales}}));return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{children:[" ",r.name," "]}),Object(a.jsxs)("div",{className:"ag-theme-alpine-dark",style:{height:500,width:window.innerWidth},children:[Object(a.jsxs)(yt.AgGridReact,{rowData:o,rowSelection:"single",children:[Object(a.jsx)(yt.AgGridColumn,{field:"inTime",sortable:!0,filter:!0}),Object(a.jsx)(yt.AgGridColumn,{field:"outTime",sortable:!0,filter:!0}),Object(a.jsx)(yt.AgGridColumn,{field:"cashSales",sortable:!0,filter:!0})]}),Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.hide()},children:" Close "})]})]})}}]),n}(s.Component),ae=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.station;this.props.fetchGunsPerStation({stationId:t._id}),this.props.fetchManagersPerStation({stationId:t._id}),this.props.fetchExecutivesPerStation({stationId:t._id})}},{key:"componentDidUpdate",value:function(t,e){var n=t.station,a=this.props.station;n._id!==a._id&&(this.props.fetchGunsPerStation({stationId:a._id}),this.props.fetchManagersPerStation({stationId:a._id}),this.props.fetchExecutivesPerStation({stationId:a._id}))}},{key:"setStationDailyRates",value:function(t){var e={stationId:this.props.station._id,date:new Date,rates:t.rates,validTill:t.validTill};this.props.setStationDailyRates(e)}},{key:"onAddStock",value:function(t){var e={stationId:this.props.station._id,date:new Date,invoice:t.invoice,stocks:t.stocks};this.props.addStock(e)}},{key:"render",value:function(){var t=this,e=this.state.setDailyRates,n=this.props,s=n.station,i=n.guns,r=n.managers,o=n.executives,c=n.disableManagerDisplay,u=n.dailyRates,l=n.match,d=l.path,h=l.url,j=s&&s.name?s.name.toUpperCase():"UNKNOWN";return l.isExact?Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(ut.a,{style:{width:"100%",paddingLeft:10},children:Object(a.jsxs)(xt.a,{children:[Object(a.jsxs)("span",{style:{fontSize:25},children:[" ",j," "]}),Object(a.jsx)("button",{style:{marginLeft:10},onClick:function(){return t.setState({setDailyRates:!0})},children:" Set Daily Rate "}),Object(a.jsx)("button",{style:{marginLeft:10},onClick:function(){return t.props.history.push(h+"/rates/view")},children:" View Daily Rates "}),Object(a.jsx)("button",{style:{marginLeft:10},onClick:function(){return t.props.history.push(h+"/stocks/add")},children:" Add Stock "}),Object(a.jsx)("button",{style:{marginLeft:10},onClick:function(){return t.props.history.push(h+"/stocks/view")},children:" View Stock "})]})}),Object(a.jsxs)(ut.a,{style:{width:"100%",paddingLeft:10},children:[Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)(At,{station:s,guns:i})," "]}),c?null:Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)(_t,{station:s,managers:r})," "]}),Object(a.jsxs)(xt.a,{children:[" ",Object(a.jsx)(Nt,{station:s,executives:o})," "]})]}),e?Object(a.jsx)(Ht,{station:s,guns:i,onSubmit:this.setStationDailyRates.bind(this),onCancel:function(){return t.setState({setDailyRates:!1})}}):null]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)(p.b,{path:"".concat(d,"/stocks/view"),children:[" ",Object(a.jsx)(zt,{show:!0,station:s,onCancel:function(){return t.props.history.goBack()}})," "]}),Object(a.jsxs)(p.b,{path:"".concat(d,"/stocks/add"),children:[" ",Object(a.jsx)(Wt,{show:!0,station:s,guns:i,onSubmit:this.onAddStock.bind(this),onCancel:function(){return t.props.history.goBack()}})," "]}),Object(a.jsxs)(p.b,{path:"".concat(d,"/rates/view"),children:["  ",Object(a.jsx)(Mt,{show:!0,station:s,guns:i,dailyRates:u,fetchStationDailyRates:this.props.fetchStationDailyRates,onHide:function(){return t.props.history.goBack()}})," "]}),Object(a.jsxs)(p.b,{path:"".concat(d,"/sales/enter/:executiveId"),children:["  ",Object(a.jsx)(ee,{executives:o,openingStock:426.33,fetchGunsPerStation:this.props.fetchGunsPerStation,guns:i,setExecSales:this.props.setExecSales,hide:function(){return t.props.history.goBack()}})," "]}),Object(a.jsxs)(p.b,{path:"".concat(d,"/sales/view/:executiveId"),children:["  ",Object(a.jsx)(ne,{executives:o,attendance:this.props.attendance,fetchExecutivesAttendance:this.props.fetchExecutivesAttendance,hide:function(){return t.props.history.goBack()}})," "]})]})}}]),n}(s.Component),se=Object(J.b)((function(t){return{stations:t.auth.stations,guns:t.auth.gunsPerStation,managers:t.auth.managersPerStation,executives:t.auth.executivesPerStation,attendance:t.auth.executivesAttendance,dailyRates:t.auth.dailyRates}}),{fetchAllStations:U,fetchGunsPerStation:W,fetchManagersPerStation:B,fetchExecutivesPerStation:z,setStationDailyRates:function(t){return function(e){f.a.post("/rates/station",t).catch((function(t){return e({type:y,payload:t.response})}))}},addStock:function(t){return function(e){f.a.post("/stocks/station",t).catch((function(t){return e({type:y,payload:t.response})}))}},fetchStocksLatest:K,fetchStocksAll:X,fetchStationDailyRates:function(t){return function(e){f.a.get("/rates/station",{params:t}).then((function(t){e({type:k,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response})}))}},setExecSales:q,fetchExecutivesAttendance:V})(Object(p.f)(ae)),ie=n(340),re=n(244),oe=n(143),ce=n(338);oe.b.add(ce.a,Kt.a,Kt.b);var ue=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a.onSubmit=a.onSubmit.bind(Object(ct.a)(a)),a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.props.fetchGunTypes()}},{key:"onSubmit",value:function(t){t.preventDefault(),this.props.registerNewOwner(this.state,this.props.history)}},{key:"render",value:function(){var t=this;return Object(a.jsxs)(St.a.Dialog,{show:!0,size:"md",backdrop:"static",onHide:function(){return t.props.history.push("/dashboard")},style:{height:"100%",maxHeight:"100%",maxWidth:"100%",width:"100%"},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsx)(St.a.Title,{children:"Register New Owner"})}),Object(a.jsx)(St.a.Body,{style:{height:"100%",minHeight:600},children:Object(a.jsxs)(ie.a,{id:"controlled-tab-example",style:{backgroundColor:"blue",marginBottom:15},children:[Object(a.jsx)(re.a,{eventKey:"basic",title:"Basic",children:Object(a.jsx)(le,{onNameChange:function(e){return t.setState({username:e.target.value})},onPasswordChange:function(e){return t.setState({password:e.target.value})},onPhoneChange:function(e){return t.setState({phone:e.target.value})}})}),Object(a.jsx)(re.a,{eventKey:"stations",title:"Stations",children:Object(a.jsx)(de,{gunTypes:this.props.gunTypes,setStation:function(e){return t.setState({stations:e})},setGuns:function(e){return t.setState({guns:e})},setManagers:function(e){return t.setState({managers:e})},setExecs:function(e){return t.setState({executives:e})}})})]})}),Object(a.jsxs)(St.a.Footer,{children:[Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.history.push("/dashboard")},children:" Cancel "}),Object(a.jsx)(kt.a,{variant:"primary",onClick:this.onSubmit,children:"Register"})]})]})}}]),n}(s.Component),le=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)(Dt.a.Group,{controlId:"formBasicUsername",children:[Object(a.jsx)(Dt.a.Label,{children:"Enter Owner Username"}),Object(a.jsx)(Dt.a.Control,{type:"text",placeholder:"Username",onChange:this.props.onNameChange}),Object(a.jsx)(Dt.a.Text,{className:"text-muted",children:"We will check the availability"})]}),Object(a.jsxs)(Dt.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(Dt.a.Label,{children:"Password"}),Object(a.jsx)(Dt.a.Control,{type:"password",placeholder:"Password",onChange:this.props.onPasswordChange})]}),Object(a.jsxs)(Dt.a.Group,{controlId:"formBasicPhone",children:[Object(a.jsx)(Dt.a.Label,{children:"Phone Number"}),Object(a.jsx)(Dt.a.Control,{type:"text",placeholder:"Phone number",onChange:this.props.onPhoneChange})]})]})}}]),n}(s.Component),de=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={stn:[],guns:[],managers:[],executives:[],count:0},a}return Object(u.a)(n,[{key:"addClick",value:function(){this.setState((function(t){return{stn:[].concat(Object(Vt.a)(t.stn),[""]),count:t.count+1}}))}},{key:"handleChange",value:function(t,e){var n=this,a=e.target.value,s=Object(Vt.a)(this.state.stn);s[t]=a,this.setState({stn:s},(function(){return n.props.setStation(n.state.stn)}))}},{key:"removeStation",value:function(t){var e=this,n=this.state.count,a=Object(Vt.a)(this.state.stn);a.splice(t,1),this.setState({stn:a,count:n-1},(function(){return e.props.setStation(e.state.stn)}))}},{key:"setGuns",value:function(t,e){var n=this,a=this.state.guns;a[t]=e,this.setState({guns:a},(function(){return n.props.setGuns(n.state.guns)}))}},{key:"setManagers",value:function(t,e){var n=this,a=this.state.managers;a[t]=e,this.setState({managers:a},(function(){return n.props.setManagers(n.state.managers)}))}},{key:"setExecs",value:function(t,e){var n=this,a=this.state.executives;a[t]=e,this.setState({executives:a},(function(){return n.props.setExecs(n.state.executives)}))}},{key:"createUI",value:function(){var t=this,e=this.state.stn;return e.map((function(n,s){return Object(a.jsxs)("div",{style:{alignItems:"center",border:"1px black solid",marginBottom:5},children:[Object(a.jsxs)("div",{style:{marginLeft:20,alignItems:"center"},children:[Object(a.jsx)(qt.a,{icon:Kt.b,style:{cursor:"pointer",color:"red"},onClick:t.removeStation.bind(t,s)}),Object(a.jsx)("input",{style:{marginLeft:10,width:300},placeholder:"Station Name",name:"stnName",value:e[s],onChange:t.handleChange.bind(t,s)})]}),Object(a.jsxs)(ut.a,{style:{marginLeft:20},children:[Object(a.jsxs)(xt.a,{md:5,style:{marginLeft:10},children:[" ",Object(a.jsx)(he,{stnIndex:s,stnName:e[s],gunTypes:t.props.gunTypes,setGuns:t.setGuns.bind(t)})," "]}),Object(a.jsxs)(xt.a,{md:5,style:{borderLeft:"1px solid blue",marginLeft:10},children:[Object(a.jsxs)(ut.a,{style:{borderBottom:"1px solid blue"},children:[" ",Object(a.jsx)(pe,{stnIndex:s,setManagers:t.setManagers.bind(t)})," "]}),Object(a.jsxs)(ut.a,{children:[" ",Object(a.jsx)(je,{stnIndex:s,setExecs:t.setExecs.bind(t)})," "]})]})]})]},s)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[this.createUI(),Object(a.jsx)("input",{type:"button",value:"Add Station",onClick:this.addClick.bind(this)})]})}}]),n}(s.Component),he=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).structure={id:0,name:"",type:""},a.state={guns:[],count:0},a}return Object(u.a)(n,[{key:"addGun",value:function(){var t=this,e=this.props.stnIndex;this.setState((function(t){return{guns:[].concat(Object(Vt.a)(t.guns),[{}]),count:t.count+1}}),(function(){return t.props.setGuns(e,t.state.guns)}))}},{key:"removeGun",value:function(t){var e=this,n=this.props.stnIndex,a=this.state.count,s=Object(Vt.a)(this.state.guns);s.splice(t,1),this.setState({guns:s,count:a-1},(function(){return e.props.setGuns(n,s)}))}},{key:"handleNameChange",value:function(t,e){var n=this,a=this.props.stnIndex,s=e.target.value,i=Object(Vt.a)(this.state.guns);i[t].name=s,i[t].id=this.generateGunName(s,i[t].type,t),this.setState({guns:i},(function(){return n.props.setGuns(a,i)}))}},{key:"onTypeSelect",value:function(t,e){var n=this,a=this.props.stnIndex,s=Object(Vt.a)(this.state.guns);s[t].type=e,s[t].id=this.generateGunName(s[t].name,e,t),this.setState({guns:s},(function(){return n.props.setGuns(a,s)}))}},{key:"generateGunName",value:function(t,e,n){return this.props.stnName+"_"+e+"_"+n+"_"+(t?t.replace(/\s/g,"_"):t)}},{key:"createUI",value:function(){var t=this,e=this.props.gunTypes,n=this.state.guns;return n.map((function(s,i){return Object(a.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(a.jsx)("input",{placeholder:"Gun Id",value:n[i].id,name:"gunId",disabled:!0}),Object(a.jsx)(Xt.a,{onSelect:t.onTypeSelect.bind(t,i),id:"gun-type",title:n[i]&&n[i].type?n[i].type:"Select type",style:{fontSize:20,marginRight:5},children:e.map((function(t){return Object(a.jsx)(Yt.a.Item,{eventKey:t.name,children:t.name})}))}),Object(a.jsx)("input",{placeholder:"Gun Name",name:"gunName",value:n[i].name,onChange:t.handleNameChange.bind(t,i)}),Object(a.jsx)(qt.a,{icon:Kt.b,style:{cursor:"pointer",color:"red"},onClick:t.removeGun.bind(t,i)})]},i)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[this.createUI(),Object(a.jsx)("p",{}),Object(a.jsx)("input",{type:"button",value:"Add Gun",onClick:this.addGun.bind(this)})]})}}]),n}(s.Component),pe=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={managers:[],count:0},a}return Object(u.a)(n,[{key:"addManager",value:function(){var t=this,e=this.props.stnIndex;this.setState((function(t){return{managers:[].concat(Object(Vt.a)(t.managers),[{}]),count:t.count+1}}),(function(){return t.props.setManagers(e,t.state.managers)}))}},{key:"removeManager",value:function(t){var e=this,n=this.props.stnIndex,a=this.state.count,s=Object(Vt.a)(this.state.managers);s.splice(t,1),this.setState({managers:s,count:a-1},(function(){return e.props.setManagers(n,s)}))}},{key:"handleMgrNameChange",value:function(t,e){var n=this,a=this.props.stnIndex,s=e.target.value,i=Object(Vt.a)(this.state.managers);i[t].username=s,this.setState({managers:i},(function(){return n.props.setManagers(a,i)}))}},{key:"handleMgrPasswordChange",value:function(t,e){var n=this,a=this.props.stnIndex,s=e.target.value,i=Object(Vt.a)(this.state.managers);i[t].password=s,this.setState({managers:i},(function(){return n.props.setManagers(a,i)}))}},{key:"createUI",value:function(){var t=this,e=this.state.managers;return e.map((function(n,s){return Object(a.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(a.jsx)("input",{placeholder:"Manager Name",value:e[s].name,name:"mgrName",onChange:t.handleMgrNameChange.bind(t,s)}),Object(a.jsx)(Dt.a.Control,{type:"password",placeholder:"Password",onChange:t.handleMgrPasswordChange.bind(t,s)}),Object(a.jsx)(qt.a,{icon:Kt.b,style:{cursor:"pointer",color:"red"},onClick:t.removeManager.bind(t,s)})]},s)}))}},{key:"render",value:function(){var t="Add "+(this.state.managers.length>0?"Another ":"")+"Manager";return Object(a.jsxs)("div",{children:[this.createUI(),Object(a.jsx)("p",{}),Object(a.jsx)("input",{type:"button",value:t,onClick:this.addManager.bind(this)}),Object(a.jsx)("hr",{})]})}}]),n}(s.Component),je=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={executives:[],count:0},a}return Object(u.a)(n,[{key:"addExecClick",value:function(){var t=this,e=this.props.stnIndex;this.setState((function(t){return{executives:[].concat(Object(Vt.a)(t.executives),[""]),count:t.count+1}}),(function(){return t.props.setExecs(e,t.state.executives)}))}},{key:"handleChange",value:function(t,e){var n=this,a=this.props.stnIndex,s=e.target.value,i=Object(Vt.a)(this.state.executives);i[t]=s,this.setState({executives:i},(function(){return n.props.setExecs(a,i)}))}},{key:"removeClick",value:function(t){var e=this,n=this.props.stnIndex,a=this.state.count,s=Object(Vt.a)(this.state.executives);s.splice(t,1),this.setState({executives:s,count:a-1},(function(){return e.props.setExecs(n,s)}))}},{key:"createUI",value:function(){var t=this,e=this.state.executives;return e.map((function(n,s){return Object(a.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(a.jsx)("input",{placeholder:"Executive Name",value:e[s],name:"execName",onChange:t.handleChange.bind(t,s)}),Object(a.jsx)(qt.a,{icon:Kt.b,style:{cursor:"pointer",color:"red"},onClick:t.removeClick.bind(t,s)})]},s)}))}},{key:"render",value:function(){var t="Add "+(this.state.executives.length>0?"Another ":"")+"Executive";return Object(a.jsxs)("div",{children:[this.createUI(),Object(a.jsx)("p",{}),Object(a.jsx)("input",{type:"button",value:t,onClick:this.addExecClick.bind(this)})]})}}]),n}(s.Component),be=Object(J.b)((function(t){return{auth:t.auth,errors:t.errors,gunTypes:t.auth.gunTypes}}),{registerNewOwner:function(t){return function(e){f.a.post("/owner/add",t).catch((function(t){return e({type:y,payload:t.response.data})}))}},fetchGunTypes:F})(Object(p.f)(ue)),fe=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllOwners()}},{key:"componentDidUpdate",value:function(){}},{key:"onGridReady",value:function(t){t.api.sizeColumnsToFit(),this.setState({api:t.api,columnApi:t.columnApi})}},{key:"onSelectionChanged",value:function(){if(this.state.api){var t=this.state.api.getSelectedRows()[0];this.setState({selected:t})}}},{key:"onToggleOwnerActive",value:function(t,e){this.props.setOwnerStatus({ownerId:t,isActive:e})}},{key:"onShowSetPassword",value:function(){this.setState({showSetPassword:!0})}},{key:"onSetPassword",value:function(t){var e=this.state.selected;this.props.setOwnerPassword({ownerId:e._id,newPassword:t}),this.setState({selected:null,showSetPassword:!1}),this.state.api.deselectAll()}},{key:"render",value:function(){var t=this,e=this.state,n=e.selected,s=e.showSetPassword,i=this.props.owners,r=this.onToggleOwnerActive.bind(this);return Object(a.jsxs)("div",{style:{margin:20},children:[Object(a.jsx)(ut.a,{style:{},children:Object(a.jsx)("div",{className:"ag-theme-alpine-dark",style:{height:400,width:"100%"},children:Object(a.jsxs)(yt.AgGridReact,{rowData:i,onGridReady:this.onGridReady.bind(this),rowSelection:"single",onSelectionChanged:this.onSelectionChanged.bind(this),context:{onToggleOwnerActive:r},children:[Object(a.jsx)(yt.AgGridColumn,{field:"_id",headerName:"Name",sortable:!0,filter:!0}),Object(a.jsx)(yt.AgGridColumn,{field:"regDate",headerName:"Reg Date",sortable:!0,filter:!0})]})})}),Object(a.jsxs)(ut.a,{style:{marginTop:5,borderTop:"2px solid black"},children:[n?Object(a.jsx)(Oe,{selected:n,onToggleOwnerActive:r,onShowSetPassword:this.onShowSetPassword.bind(this)}):null,s?Object(a.jsx)(ye,{selected:n,onSubmit:this.onSetPassword.bind(this),onCancel:function(){return t.setState({selected:null,showSetPassword:!1})}}):null]})]})}}]),n}(s.Component),Oe=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"onToggle",value:function(){var t=this.props.selected,e=t.isActive;this.props.onToggleOwnerActive(t._id,!e)}},{key:"render",value:function(){var t=this,e=this.props.selected,n=e.isActive,s=n?"red":"green";return Object(a.jsxs)("div",{style:{margin:"20",display:"grid"},children:[Object(a.jsx)("h4",{style:{marginTop:15},children:this.props.selected._id.toUpperCase()}),Object(a.jsx)("button",{style:{marginTop:15,paddingLeft:5,fontSize:12},onClick:function(){return t.props.onShowSetPassword(e)},children:" Reset Password "}),Object(a.jsxs)("button",{style:{marginTop:15,paddingLeft:5,fontSize:12,background:s,color:"white"},onClick:this.onToggle.bind(this),children:[" ",n?"Disable":"Enable"," "]})]})}}]),n}(s.Component),ye=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.state.newPassword,n=this.props,s=n.onCancel,i=n.onSubmit;return Object(a.jsxs)(St.a,{show:!0,size:"md",backdrop:"static",onHide:function(){return t.props.onCancel()},style:{height:"100%",width:"100%",background:"transparent"},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsx)(St.a.Title,{children:"Set Password"})}),Object(a.jsx)(St.a.Body,{style:{height:"inherit",minHeight:"inherit"},children:Object(a.jsxs)(Dt.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(Dt.a.Label,{children:"Password"}),Object(a.jsx)(Dt.a.Control,{type:"password",value:e,onChange:function(e){return t.setState({newPassword:e.target.value})},placeholder:"Password"})]})}),Object(a.jsxs)(St.a.Footer,{children:[Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return s()},children:" Cancel "}),Object(a.jsx)(kt.a,{variant:"primary",onClick:function(){return i(e)},children:" Submit "})]})]})}}]),n}(s.Component),ve=Object(J.b)((function(t){return{owners:t.auth.owners}}),{fetchAllOwners:H,setOwnerStatus:function(t){return function(e){f.a.post("/owner/status",t).then((function(t){e(H())})).catch((function(t){return e({type:y,payload:t.response.data})}))}},setOwnerPassword:function(t){return function(e){f.a.post("/owner/password",t).then((function(t){e(H())})).catch((function(t){return e({type:y,payload:t.response.data})}))}}})(Object(p.f)(fe)),me=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.props.fetchGunTypes()}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){}},{key:"onSubmit",value:function(){var t=this.state.gunType;this.props.addGunTypes({types:[t]}),this.setState({gunType:null})}},{key:"render",value:function(){var t=this,e=this.props.gunTypes.map((function(e,n){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:[" ",e.name," "]}),Object(a.jsx)("span",{children:Object(a.jsx)(qt.a,{icon:Kt.b,style:{cursor:"pointer",color:"red"},onClick:function(n){return t.props.deleteGunType({name:e.name})}})})]},n)})),n=!this.state.gunType;return Object(a.jsxs)(St.a,{show:!0,size:"md",backdrop:"static",onHide:function(){return t.props.history.push(t.props.back)},style:{height:"100%",width:"100%",background:"transparent"},children:[Object(a.jsx)(St.a.Header,{children:Object(a.jsx)(St.a.Title,{children:"Add / Edit Gun Types"})}),Object(a.jsxs)(St.a.Body,{style:{height:"inherit",minHeight:"inherit"},children:[e.map((function(t){return t})),Object(a.jsx)(Dt.a.Group,{controlId:"gunTypeName",style:{marginTop:15},children:Object(a.jsx)(Dt.a.Control,{type:"text",value:this.state.gunType,placeholder:"Enter New Gun Type",onChange:function(e){return t.setState({gunType:e.target.value})},onKeyPress:function(e){return 13===e.charCode&&t.state.gunType?t.onSubmit():null}})})]}),Object(a.jsxs)(St.a.Footer,{children:[Object(a.jsx)(kt.a,{variant:"secondary",onClick:function(){return t.props.history.push("/dashboard/admin")},children:" Cancel "}),Object(a.jsx)(kt.a,{variant:"primary",onClick:this.onSubmit.bind(this),disabled:n,children:" Submit "})]})]})}}]),n}(s.Component),ge=Object(J.b)((function(t){return{auth:t.auth,gunTypes:t.auth.gunTypes}}),{addGunTypes:function(t){return function(e){f.a.post("/guns/types/add",t).then((function(t){e({type:"ADD_GUN_TYPES",payload:t.data}),e(F())})).catch((function(t){return e({type:y,payload:t})}))}},fetchGunTypes:F,deleteGunType:function(t){return function(e){f.a.post("/guns/type/delete",t).then((function(t){e({type:"DELETE_GUN_TYPES",payload:t.data}),e(F())})).catch((function(t){return e({type:y,payload:t.response.data})}))}}})(me),xe=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllStations()}},{key:"render",value:function(){var t=this,e=this.props,n=e.stations,s=e.match,i=e.history,r=e.location,o=s.path;if(s.isExact||r.pathname==="".concat(o,"/view/stations")){var c=this.state.selectedStation&&this.state.selectedStation.length>0?this.state.selectedStation[0]:null;return Object(a.jsxs)("div",{width:"100%",children:[Object(a.jsx)(ut.a,{style:{marginLeft:30,width:"95%",paddingTop:25},children:Object(a.jsx)(gt,{stations:n,onStationSelected:function(e){return t.setState({selectedStation:e})}})}),Object(a.jsx)(ut.a,{style:{marginLeft:30,width:"95%",background:"#f1eded"},children:c?Object(a.jsx)(se,{station:c}):null})]})}return Object(a.jsxs)("div",{children:[Object(a.jsx)(p.b,{exact:!0,path:"".concat(o,"/register/owner"),component:be}),Object(a.jsx)(p.b,{exact:!0,path:"".concat(o,"/view/owners"),component:ve}),Object(a.jsxs)(p.b,{exact:!0,path:"".concat(o,"/add/gun-types"),children:[" ",Object(a.jsx)(ge,{history:i,back:o})," "]})]})}}]),n}(s.Component),Se=Object(J.b)((function(t){return{stations:t.auth.stations}}),{logoutUser:Q,fetchAllStations:U})(Object(p.f)(xe)),ke=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.auth.user;this.props.fetchOwnerAllDetails({username:t.id})}},{key:"render",value:function(){var t=this,e=this.props.owner&&this.props.owner.stations?this.props.owner.stations:[],n=this.state.selectedStation&&this.state.selectedStation.length>0?this.state.selectedStation[0]:null;return Object(a.jsxs)("div",{width:"100%",children:[Object(a.jsx)(ut.a,{style:{marginLeft:30,width:"95%",paddingTop:25},children:Object(a.jsx)(gt,{stations:e,onStationSelected:function(e){return t.setState({selectedStation:e})}})}),Object(a.jsx)(ut.a,{style:{marginLeft:30,width:"95%",background:"#f1eded"},children:n?Object(a.jsx)(se,{station:n}):null})]})}}]),n}(s.Component),we=Object(J.b)((function(t){return{auth:t.auth,owner:t.auth.owner}}),{fetchOwnerAllDetails:function(t){return function(e){f.a.get("/owner/details",{params:t}).then((function(t){return e({type:m,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}}})(ke),Ce=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.user;this.props.fetchStationDetails({stationId:t.stationId})}},{key:"render",value:function(){var t=this.props.stationDetails;return Object(a.jsx)("div",{children:t?Object(a.jsx)(se,{disableManagerDisplay:!0,station:t}):null})}}]),n}(s.Component),Te=Object(J.b)((function(t){return{user:t.auth.user,stationDetails:t.auth.stationDetails,executives:t.auth.executivesPerStation}}),{fetchExecutivesPerStation:z,fetchStationDetails:function(t){return function(e){f.a.get("/station/details",{params:t}).then((function(t){e({type:S,payload:t.data})})).catch((function(t){return e({type:y,payload:t.response.data})}))}}})(Ce),Ae=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).onLogoutClick=a.onLogoutClick.bind(Object(ct.a)(a)),a}return Object(u.a)(n,[{key:"onLogoutClick",value:function(t){t.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){var t=this.props.auth,e=this.props.match.path;return!0!==t.isAuthenticated?Object(a.jsxs)(p.b,{children:[" ",Object(a.jsx)(p.a,{to:"/"})," "]}):Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(Ot,Object(tt.a)({},this.props)),Object(a.jsxs)(p.b,{path:"".concat(e,"/owner/:oId"),children:[" ",Object(a.jsx)(we,Object(tt.a)({},this.props))," "]}),Object(a.jsxs)(p.b,{path:"".concat(e,"/manager/:mId"),children:[" ",Object(a.jsx)(Te,Object(tt.a)({},this.props))," "]}),Object(a.jsxs)(p.b,{path:"".concat(e,"/admin"),children:["   ",Object(a.jsx)(Se,Object(tt.a)({},this.props))," "]})]})}}]),n}(s.Component),De=Object(J.b)((function(t){return{auth:t.auth}}),{logoutUser:Q})(Object(p.f)(Ae));if(window.localStorage.jwtToken){var Ee=window.localStorage.jwtToken;O(Ee);var Ie=Object(j.a)(Ee);rt.dispatch(Y(Ie));var Pe=Date.now()/1e3;Ie.exp<Pe&&(rt.dispatch(Q()),window.location.href="./login")}var _e=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(J.a,{store:rt,children:Object(a.jsx)(h.a,{children:Object(a.jsxs)("div",{width:"100%",children:[Object(a.jsx)(p.b,{exact:!0,path:"/",component:pt}),Object(a.jsxs)(p.b,{path:"/dashboard",children:[" ",Object(a.jsx)(De,{})," "]})]})})})}}]),n}(s.Component);o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(_e,{})}),document.getElementById("root"))}},[[534,1,2]]]);
//# sourceMappingURL=main.3eeb27a7.chunk.js.map